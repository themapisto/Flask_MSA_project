<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask API Example</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<div id="orgs-list">
    <!-- 여기에 서버로부터 받은 조직 목록이 표시됩니다 -->
</div>
<script>
    // 서버에 GET 요청을 보내고 조직 목록을 가져와서 화면에 표시하는 함수
    function fetchOrgs() {
        fetch('/get_orgs')
            .then(response => response.json())
            .then(data => {
                const orgsListDiv = document.getElementById('orgs-list');
                data.org_info.forEach(org => {
                    const orgElement = document.createElement('p');
                    orgElement.textContent = `Display Name: ${org.display_name}, Org ID: ${org.org_id}`;
                    orgsListDiv.appendChild(orgElement);
                });
            })
            .catch(error => console.error('Error fetching orgs:', error));
    }

    // 페이지 로드시 조직 목록을 가져옴
    fetchOrgs();
</script>




<body>
    <h1>Get Routing table Information</h1>
    <form id="clusterForm">
        <label for="sddc_id">SDDC ID:</label>
        <input type="text" id="sddc_id" name="sddc_id">
        <label for="org_id">Org ID:</label>
        <input type="text" id="org_id" name="org_id">
        <button type="submit">Get Routingtable</button>
    </form>
    <div id="clusterResult"></div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>

